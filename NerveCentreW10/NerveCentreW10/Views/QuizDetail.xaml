<Page
    x:Class="NerveCentreW10.Views.QuizDetail"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:Microsoft.Toolkit.Uwp.UI.Controls"
    xmlns:converters="using:Microsoft.Toolkit.Uwp.UI.Converters"
    mc:Ignorable="d"
    xmlns:data="using:NerveCentreW10.Models">

    <Page.Resources>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" FalseValue="Collapsed" TrueValue="Visible"/>
    </Page.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="48"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" Grid.RowSpan="2" >
            <StackPanel>
                <TextBlock x:Name="Title" Style="{StaticResource TitleTextBlockStyle}" HorizontalAlignment="Left"/>
                <Border Style="{StaticResource BorderLine1}"/>
                    <controls:ImageEx x:Name="MyImage"/>
                <ListView x:Name="MyListView" SelectionMode="None" Margin="0,0,0,64">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="data:QuizClass">
                            <StackPanel Style="{StaticResource StackPanelForQuestions}">
                                <TextBlock x:Name="QQ" Style="{StaticResource QuestionTextStyle}" Text="{Binding QTEXT}" Foreground="{Binding QColor}"/>
                                <RadioButton x:Name="QA" Content="{Binding QA}" IsChecked="{Binding QAIsActive, Mode=TwoWay}" />
                                <RadioButton x:Name="QB" Content="{Binding QB}" IsChecked="{Binding QBIsActive, Mode=TwoWay}" />
                                    <RadioButton x:Name="QC" Content="{Binding QC}" IsChecked="{Binding QCIsActive, Mode=TwoWay}" />
                                    <RadioButton x:Name="QD" Content="{Binding QD}" IsChecked="{Binding QDIsActive, Mode=TwoWay}"/>
                                    <!--<TextBlock Style="{StaticResource TextBlockForCorrect}" x:Name="ANS" Text="{Binding ANS}" Visibility="{Binding IsChecked, ElementName=RevealHideAnswersButton, Converter={StaticResource BoolToVisibilityConverter}}"/>-->
                                <StackPanel Orientation="Vertical">
                                    <TextBlock Style="{StaticResource TextBlockForCorrect}" x:Name="ANS" Text="{Binding ANS}" Visibility="{Binding IsChecked, ElementName=RevealHideAnswersButton, Converter={StaticResource BoolToVisibilityConverter}}"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Style="{StaticResource TextBlockForCorrect}" x:Name="REASTATEMENT" Text="Reasoning: " Visibility="{Binding IsChecked, ElementName=RevealHideAnswersButton, Converter={StaticResource BoolToVisibilityConverter}}" TextWrapping="Wrap"/>
                                    <TextBlock Style="{StaticResource TextBlockForCorrect}" x:Name="REA" Text="{x:Bind REA}" Visibility="{Binding IsChecked, ElementName=RevealHideAnswersButton, Converter={StaticResource BoolToVisibilityConverter}}" TextWrapping="Wrap"/>
                                </StackPanel>
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </StackPanel>

        </ScrollViewer>

        <Grid Grid.Row="1" Height="48" Background="{ThemeResource DetailPageCommandbarAcrylic1}">
            <StackPanel Grid.Row="0" Orientation="Horizontal">
                <Button x:Name="SubmitButton" Content="Submit" Click="SubmitButton_Click" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Style="{StaticResource ButtonRevealStyle}"/>
                <ToggleButton x:Name="RevealHideAnswersButton" Content="Show Answers" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Style="{StaticResource ToggleButtonRevealStyle}" Checked="RevealHideAnswersButton_Checked" Unchecked="RevealHideAnswersButton_Unchecked"/>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
